    <!-- <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>chat app</title>
         <link rel="stylesheet" href="style.css">
    </head>
    <body  class="chat-page">
        <h1>chat app</h1>

        <p id="sidebar">sidebar</p>

        <form id="msg-form">
            <input type="text" name="message"  id="msg" placeholder="enter your message"autocomplete="off" >

            <button id="location">share location</button>
            <button type="submit">send</button>
        </form>

        <br/>
        <div id="messages"></div>

        <script id="msg-template" type="text/html">
            <div><p>{{username}}-{{createdAt}}</p></div>
            <div><p>{{message}}</p></div>
            </script>

            <div id="location-msg"></div>
            <script id="location-template" type="text/html">
                <div>
                <p>{{username}}-{{createdAt}}</p>
                <a href="{{url}}" target="_blank"><p>my current location</p></a>
                </div>
            </script>

            <script id="sidebar-template" type="text/html">
                <h1>room</h1>
                <p>{{room}}</p>
                <ul>
                    {{#users}}
                    <li>{{username}}</li>
                    {{/users}}
                </ul>
            </script>


            <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.14.0/qs.min.js"></script>
            <script src="socket.io/socket.io.js"></script>
            <script src="./chat.js"></script>
    </body>
    </html> -->
<!DOCTYPE html>
<html lang="en" class="h-full bg-gradient-to-br from-[#0a0118] via-[#1a0b2e] to-[#16213e]">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat Room | ChatVerse</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes glow-pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 0.8; }
    }
    
    @keyframes slide-up {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .animate-float { animation: float 6s ease-in-out infinite; }
    .animate-glow { animation: glow-pulse 3s ease-in-out infinite; }
    .slide-up { animation: slide-up 0.3s ease-out; }
    
    /* Glassmorphism effect */
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .glass-strong {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    
    /* Custom scrollbar - smooth and attractive */
    ::-webkit-scrollbar { 
      width: 6px; 
      height: 6px;
    }
    ::-webkit-scrollbar-track { 
      background: rgba(255, 255, 255, 0.03); 
      border-radius: 10px; 
    }
    ::-webkit-scrollbar-thumb { 
      background: linear-gradient(180deg, #6366f1, #8b5cf6); 
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    ::-webkit-scrollbar-thumb:hover { 
      background: linear-gradient(180deg, #818cf8, #a78bfa);
      width: 8px;
    }
    
    /* Firefox scrollbar */
    * {
      scrollbar-width: thin;
      scrollbar-color: #6366f1 rgba(255, 255, 255, 0.03);
    }
    
    /* Gradient text */
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Neon glow effect */
    .neon-glow {
      box-shadow: 0 0 20px rgba(99, 102, 241, 0.5),
                  0 0 40px rgba(139, 92, 246, 0.3),
                  0 0 60px rgba(99, 102, 241, 0.2);
    }
    
    /* Message bubble animation */
    .message-bubble {
      animation: slide-up 0.3s ease-out;
      transition: all 0.2s ease;
    }
    
    .message-bubble:hover {
      transform: translateX(3px);
      box-shadow: 0 5px 20px rgba(99, 102, 241, 0.2);
    }
    
    /* Smooth scroll behavior */
    html {
      scroll-behavior: smooth;
    }
    
    /* Mobile touch improvements */
    button, input, a {
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    
    /* Prevent zoom on input focus (iOS) */
    @media screen and (max-width: 768px) {
      input, textarea, select {
        font-size: 16px !important;
      }
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center font-sans text-white relative overflow-hidden">

  <!-- Animated Background Particles -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-[10%] left-[10%] w-[300px] h-[300px] bg-indigo-500/30 blur-[100px] rounded-full animate-float"></div>
    <div class="absolute top-[60%] right-[15%] w-[250px] h-[250px] bg-purple-500/30 blur-[90px] rounded-full animate-float" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-[20%] left-[20%] w-[200px] h-[200px] bg-pink-500/25 blur-[80px] rounded-full animate-float" style="animation-delay: 2s;"></div>
    <div class="absolute top-[30%] right-[30%] w-[180px] h-[180px] bg-cyan-500/25 blur-[85px] rounded-full animate-glow"></div>
  </div>

  <!-- Main Chat Container -->
  <div class="relative z-10 w-full max-w-7xl mx-4 sm:mx-6 lg:mx-auto h-[95vh] sm:h-[92vh] lg:h-[90vh] flex flex-col lg:flex-row glass-strong rounded-2xl sm:rounded-3xl shadow-2xl neon-glow overflow-hidden">

    <!-- Sidebar - Collapsible on Mobile -->
    <aside class="flex-shrink-0 w-full lg:w-80 glass border-b lg:border-b-0 lg:border-r border-white/10 overflow-hidden">
      <!-- Mobile Toggle Button -->
      <button id="sidebar-toggle" class="lg:hidden w-full p-4 glass-strong flex items-center justify-between text-white font-semibold hover:bg-white/10 transition-all">
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
          </svg>
          Room & Members
        </span>
        <svg id="sidebar-icon" class="w-5 h-5 transition-transform" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
        </svg>
      </button>
      
      <div id="sidebar-content" class="hidden lg:block p-4 sm:p-6 overflow-y-auto max-h-[40vh] lg:max-h-full relative">
        <!-- Decorative gradient overlay -->
        <div class="absolute top-0 left-0 right-0 h-24 bg-gradient-to-b from-indigo-600/20 to-transparent pointer-events-none"></div>
        
        <div id="sidebar" class="relative z-10 space-y-4">
          <script id="sidebar-template" type="text/html">
            <div class="space-y-4 sm:space-y-6">
              <!-- Room Header -->
              <div class="glass-strong rounded-xl sm:rounded-2xl p-4 sm:p-5 border border-white/20 shadow-lg">
                <div class="flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3">
                  <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-400 rounded-full animate-pulse shadow-lg shadow-green-400/50"></div>
                  <h2 class="text-lg sm:text-xl font-bold gradient-text truncate">
                    {{room}}
                  </h2>
                </div>
                <p class="text-gray-300 text-xs sm:text-sm flex items-center gap-2">
                  <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                  </svg>
                  Active Members
                </p>
              </div>
              
              <!-- Users List -->
              <div class="space-y-2">
                {{#users}}
                <div class="glass rounded-lg sm:rounded-xl px-3 sm:px-4 py-2.5 sm:py-3 hover:bg-white/10 transition-all duration-300 cursor-pointer group border border-transparent hover:border-indigo-400/30">
                  <div class="flex items-center gap-2 sm:gap-3">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 ">
                      {{username.[0]}}
                    </div>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm sm:text-base text-white font-medium group-hover:text-indigo-300 transition-colors truncate">{{username}}</p>
                      <p class="text-[10px] sm:text-xs text-gray-400">Online</p>
                    </div>
                    <div class="w-2 h-2 flex-shrink-0 bg-green-400 rounded-full shadow-lg shadow-green-400/50"></div>
                  </div>
                </div>
                {{/users}}
              </div>
            </div>
          </script>
        </div>
      </div>
    </aside>

    <!-- Main Chat Section -->
    <main class="flex-1 flex flex-col min-h-0 relative">
      <!-- Header -->
      <header class="flex-shrink-0 relative p-4 sm:p-5 lg:p-6 text-center border-b border-white/10 glass-strong shadow-lg">
        <div class="absolute inset-0 bg-gradient-to-r from-indigo-600/20 via-purple-600/20 to-cyan-500/20"></div>
        <div class="relative z-10">
          <h1 class="text-2xl sm:text-3xl lg:text-4xl font-black gradient-text mb-1 sm:mb-2 tracking-tight">
            ChatVerse
          </h1>
          <p class="text-xs sm:text-sm text-gray-300 flex items-center justify-center gap-1.5 sm:gap-2">
            <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"/>
            </svg>
            Connect. Chat. Share your world
          </p>
        </div>
      </header>

      <!-- Messages Area - Now properly scrollable -->
      <section id="messages" class="flex-1 overflow-y-auto p-3 sm:p-4 lg:p-6 space-y-3 sm:space-y-4 scroll-smooth min-h-0">
        <!-- Text Message Template -->
        <script id="msg-template" type="text/html">
          <div class="message-bubble max-w-[90%] sm:max-w-[85%] glass-strong rounded-xl sm:rounded-2xl px-4 sm:px-5 py-3 sm:py-4 shadow-xl border border-white/15 hover:border-indigo-400/30">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-7 h-7 sm:w-8 sm:h-8 ">
                {{username.[0]}}
              </div>
              <p class="text-[10px] sm:text-xs font-semibold text-indigo-300 truncate">{{username}}</p>
              <span class="text-[9px] sm:text-xs text-gray-400 flex-shrink-0">• {{createdAt}}</span>
            </div>
            <p class="text-sm sm:text-base text-white leading-relaxed pl-9 sm:pl-10 break-words">{{message}}</p>
          </div>
        </script>

        <!-- Location Messages -->
        <div id="location-msg"></div>
        <script id="location-template" type="text/html">
          <div class="message-bubble max-w-[90%] sm:max-w-[85%] glass-strong rounded-xl sm:rounded-2xl px-4 sm:px-5 py-3 sm:py-4">
            <div class="flex items-center gap-2 mb-2">
              <div class="w-7 h-7 sm:w-8 sm:h-8 ">
          
              </div>
              <p class="text-[10px] sm:text-xs font-semibold text-green-300 truncate">{{username}}</p>
              <span class="text-[9px] sm:text-xs text-gray-400 flex-shrink-0">• {{createdAt}}</span>
            </div>
            <a href="{{url}}" target="_blank" class="flex items-center gap-2 text-sm sm:text-base text-green-300 hover:text-green-200 transition-colors pl-9 sm:pl-10 group">
              <svg class="w-4 h-4 flex-shrink-0 group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
              </svg>
              <span class="break-words">View Shared Location</span>
            </a>
          </div>
        </script>
      </section>

      <!-- Input Bar - Mobile Optimized -->
      <form id="msg-form" class="flex-shrink-0 flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 p-3 sm:p-4 lg:p-5 border-t border-white/10 glass-strong backdrop-blur-2xl">
        <input
          id="msg"
          name="message"
          type="text"
          placeholder=" Type your message..."
          autocomplete="off"
          required
          class="flex-1 px-4 sm:px-5 py-3 sm:py-3.5 rounded-xl sm:rounded-2xl glass-strong text-white placeholder-gray-400 border border-white/20 focus:border-indigo-400/50 focus:ring-2 focus:ring-indigo-400/30 focus:outline-none transition-all text-sm sm:text-base"
        />

        <div class="flex gap-2 sm:gap-3">
          <!-- Location Button -->
          <button
            id="location"
            type="button"
            class="flex-1 sm:flex-none px-4 sm:px-6 py-3 sm:py-3.5 bg-gradient-to-r from-green-500 to-cyan-500 text-white font-semibold rounded-xl sm:rounded-2xl hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-green-500/30 transition-all duration-300 text-xs sm:text-sm lg:text-base flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px]"
          >
           
            <span class="hidden xs:inline sm:inline">Location</span>
            <span class="xs:hidden sm:hidden"><svg class="w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
            </svg></span>
          </button>

          <!-- Send Button -->
          <button
            type="submit"
            class="flex-1 sm:flex-none px-5 sm:px-7 py-3 sm:py-3.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold rounded-xl sm:rounded-2xl hover:scale-105 active:scale-95 hover:shadow-xl hover:shadow-purple-500/40 transition-all duration-300 text-xs sm:text-sm lg:text-base flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px]"
          >
            
           <span class="hidden xs:inline sm:inline">Send</span>
            <span class="xs:hidden sm:hidden"><svg class="w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
            </svg></span>
          </button>
        </div>
      </form>
    </main>
  </div>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.14.0/qs.min.js"></script>
  <script src="socket.io/socket.io.js"></script>
  <script src="./chat.js"></script>
</body>
</html>